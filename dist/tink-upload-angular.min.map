{"version":3,"file":"tink-upload-angular.min.js","sources":["tink-upload-angular.js"],"names":["module","angular","e","factory","$q","tinkUploadService","upload","uploudFile","data","uploaded","window","File","this","fileData","fileName","name","fileType","type","fileSize","size","progress","prototype","getFileName","getData","getProgress","getFileSize","getFileExtension","posLastDot","lastIndexOf","substring","length","getFileMimeType","cancel","abort","options","scope","promise","defer","then","resolve","reject","evt","progressPercentage","parseInt","loaded","total","isNaN","notify","object","remove","directive","$window","safeApply","UploadFile","_","restrict","replace","transclude","templateUrl","ngModel","fieldName","multiple","allowedTypes","maxFileSize","url","sendOptions","compile","pre","post","elem","addLisener","bind","dragenter","dragleave","dragover","drop","stopPropagation","preventDefault","addClass","removeClass","files","dt","originalEvent","dataTransfer","i","file","config","error","holding","pull","message","hold","Array","unshift","push","typeCheck","checkFileType","sizeCheck","checkFileSize","fail","mimeType","mimeTypes","extention","extensions","fileEx","isArray","indexOf","maxSize","undefined","removeFromServer","key","addUrls","$watchCollection","newVa","removed","difference","added","forEach","value","undo","del","index","browseFiles","dropzone","find","click","onFileSelect","run","$templateCache","put"],"mappings":"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"}